<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RoiTech Education Solution</title>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/gh/silivestir/Toast.js@main/Toast.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/silivestir/Toast.js@main/Toast.min.js"></script>
  <style>
    /* Full-page container */
    body {
      background-color: #2c3e50; /* Dark background for contrast */
      height: 100vh;
      margin: 0;
      font-family: 'Arial', sans-serif;
      overflow: hidden;
      position: relative;
    }

    /* Animated Neural Network Effect */
    .neural-network-background {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    .dot {
      position: absolute;
      border-radius: 50%;
      background-color: rgba(0, 180, 216, 0.9);
      opacity: 0.8;
      animation: move-dot 8s linear infinite, glow 1.5s ease-in-out infinite alternate;
    }

    /* Animation for dots and lines to simulate flowing data */
    @keyframes move-dot {
      0% {
        transform: translate(0, 0);
      }

      25% {
        transform: translate(150px, 100px);
      }

      50% {
        transform: translate(300px, 0);
      }

      75% {
        transform: translate(450px, 100px);
      }

      100% {
        transform: translate(600px, 0);
      }
    }

    /* Glowing effect */
    @keyframes glow {
      0% {
        box-shadow: 0 0 5px rgba(0, 180, 216, 0.8), 0 0 20px rgba(0, 180, 216, 0.8), 0 0 30px rgba(0, 180, 216, 0.8);
      }

      100% {
        box-shadow: 0 0 10px rgba(0, 180, 216, 1), 0 0 40px rgba(0, 180, 216, 1), 0 0 60px rgba(0, 180, 216, 1);
      }
    }

    /* Computer structure */
    .computer {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
      height: 20%;
      background-color: #34495e;
      border-radius: 10px;
      box-shadow: 0 0 30px rgba(0, 180, 216, 0.9);
      overflow: hidden;
    }

    .computer-screen {
      width: 100%;
      height: 100%;
      background-color: #1c2833;
      position: relative;
    }

    /* Layout container */
    .layout-container {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      max-width: 1200px;
      padding: 20px;
      box-sizing: border-box;
    }

    /* Container for the form */
    .login-container {
      position:relative;
      background-color: rgba(255, 255, 255, 0.9);
      border-radius: 10px;
      padding: 40px;
      width: 186px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      margin-right: 20px;
    }

    /* Form styling */
    .form-floating {
      margin-bottom: 20px;
    }

    .form-control {
      border-radius: 10px;
      padding: 10px;
    }

    /* Typing text container */
    .typing-container {
      max-width: 500px;
      font-family: 'Courier', monospace;
      color: white;
      text-align: left;
      margin-left: 20px;
    }

    /* Typing effect */
    .typing-text {
      font-size: 1.5rem;
      border-right: 2px solid white;
      white-space: nowrap;
      overflow: hidden;
    }

    /* Blinking cursor animation */
    @keyframes blink-cursor {
      from {
        border-right-color: white;
      }

      to {
        border-right-color: transparent;
      }
    }

    .typing-text {
      animation: blink-cursor 0.7s steps(44) infinite;
    }

    /* Adjust heading fonts */
    .typing-heading {
      font-size: 2rem;
      color: #F2F3F4; /* Light gray color for heading */
    }

    .typing-subheading {
      font-size: 1.25rem;
      color: #D5DBDB; /* Light gray for subheading */
    }

    /* Mobile responsiveness */
    @media (max-width: 768px) {
      .layout-container {
        flex-direction: column;
        align-items: center;
        padding: 0;
      }

      .typing-container {
        text-align: center;
        margin-bottom: 20px;
      }

      .login-container {
        margin-right: 0;
        width: 80%;
      }
    }

    /* Button styles */
    .btn-primary {
      background-color:  #34495e;
      border: none;
      color: white;
      font-size: 1.1rem;
      padding: 10px;
      border-radius: 5px;
      transition: background-color 0.3s;
    }

    .btn-primary:hover {
      background-color: #48C9B0; /* Light teal hover effect */
    }

    .btn-block {
      width: 100%;
    }

    /* Links */
    a {
      color: #48C9B0;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }
  </style>
</head>

<body>
  <!-- Neural Network Background -->
  <div class="neural-network-background">
    <div class="dot" style="top: 30%; left: 20%; width: 20px; height: 20px;"></div>
    <div class="dot" style="top: 40%; left: 60%; width: 30px; height: 30px;"></div>
    <div class="dot" style="top: 50%; left: 40%; width: 25px; height: 25px;"></div>
    <div class="dot" style="top: 60%; left: 70%; width: 15px; height: 15px;"></div>
    <div class="dot" style="top: 20%; left: 80%; width: 25px; height: 25px;"></div>
    <div class="dot" style="top: 70%; left: 50%; width: 35px; height: 35px;"></div>
    <div class="dot" style="top: 80%; left: 90%; width: 30px; height: 30px;"></div>
    <div class="dot" style="top: 20%; left: 10%; width: 18px; height: 18px;"></div>
    <div class="dot" style="top: 30%; left: 80%; width: 25px; height: 25px;"></div>
    <div class="dot" style="top: 60%; left: 50%; width: 35px; height: 35px;"></div>
    <div class="dot" style="top: 80%; left: 90%; width: 30px; height: 30px;"></div>
    <div class="dot" style="top: 20%; left: 10%; width: 18px; height: 18px;"></div>
  </div>

  <!-- Computer Frame -->
  <div class="computer">
    <div class="computer-screen">
      <img src='/img/comp2.webp' >
      <img src='/img/comp2.webp' >
      <img src='/img/comp2.webp' >
      <img src='/img/comp2.webp' >
      <img src='/img/comp2.webp' >
      <img src='/img/comp2.webp' >
      <div class="dot" style="top: 70%; left: 50%; width: 35px; height: 35px;color:white;">RoiTech education</div>
      <div class="dot" style="top: 80%; left: 90%; width: 30px; height: 30px;color:white;">e-learning RoiTech</div>
      <div class="dot" style="top: 20%; left: 10%; width: 18px; height: 18px;color:white;">e-learning</div>
      <div class="dot" style="top: 30%; left: 80%; width: 25px; height: 25px;color:white;">e-learning training RoiTech</div>
      <div class="dot" style="top: 60%; left: 50%; width: 35px; height: 35px;">e learning roitech education </div>
      <div class="dot" style="top: 80%; left: 90%; width: 30px; height: 30px;">e-learning</div>
      <div class="dot" style="top: 20%; left: 10%; width: 18px; height: 18px;">e-education</div>
    
    </div>
  </div>

  <!-- Layout Container for typing text and form -->
  <div class="layout-container" style="display:flex;">
    <!-- Typing Effect Container -->
    <div class="typing-container" style="flex:2">
      <h1 class="typing-heading"></h1>
      <h4 class="typing-subheading"></h4>
    </div>

    <!-- Login Container -->
    <div class="login-container" id="j" style="flex:1">
      <h2 class="text-center" style="color:  #34495e;">Sign In</h2>
      <form id="login-form">
        <div class="form-floating mb-3">
          <input type="email" class="form-control" id="email" placeholder="Enter your Email" required>
          <label for="email" style="color:   #34495e;">Email</label>
        </div>
        <div class="form-floating mb-3">
          <input type="password" class="form-control" id="password" placeholder="Enter your Password" required>
          <label for="password" style="color:  #34495e;">Password</label>
        </div>
        <div class="d-grid">
          <button class="btn btn-primary btn-block" type="submit">Sign In</button>
        </div>
        <div class="text-center mt-3">
          <span>Don't have an account? <a href="signup.html">Sign Up</a></span>
        </div>
      </form>
    </div>
  </div>

  <!-- JavaScript for typing effect and form submission -->
  <script>
    const mainHeading = "ROITECH EDUCATION SOLUTION";
    const subHeading = `We are here to provide you with valuable tech knowledge, including programming, computer maintenance, cybersecurity, internet programming, and application development. Our offerings include Java programming, Python, technical interview experience, mobile app creation, compilers, and various programming languages.`;

    const typingSpeed = 100;

    function typeText(element, text, callback) {
      let i = 0;
      function typing() {
        if (i < text.length) {
          element.innerHTML += text.charAt(i);
          i++;
          setTimeout(typing, typingSpeed);
        } else if (callback) {
          callback();
        }
      }
      typing();
    }

    typeText(document.querySelector('.typing-heading'), mainHeading, function () {
      setTimeout(function () {
        typeText(document.querySelector('.typing-subheading'), subHeading);
      }, 500);
    });










function requireAuth(token){
alert("called once ")
return fetch('/homepage', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({"token":token})
});
}






// Handle form submission using Fetch API
const form = document.getElementById('login-form');
form.addEventListener('submit', async function (event) {
    event.preventDefault();

    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;

    try {
        const response = await fetch('../login', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ email, password })
        });

        if (!response.ok) {
            const errorData = await response.json();
            throw new Error(errorData.error || 'Login failed. Please try again.');
        }

        const data = await response.json();

        // Check if token exists in the response
        if (data.token) {
         // alert(data.token)
            // Option 1: Store token in localStorage (less secure)
            localStorage.setItem('token', data.token);

            // Option 2: Use httpOnly cookies (more secure)


            // Redirect the user to the homepage after login
            window.location.href = '/homepage';
        } else {
            throw new Error('Login failed: No token received');
        }

    } catch (error) {
        // Handle errors and display them to the user
        console.error(error.message);
        alert(error.message); // Or use a more user-friendly error display method
    }
});


  </script>
</body>

</html>
